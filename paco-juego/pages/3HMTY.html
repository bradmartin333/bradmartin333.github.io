<!doctype html>
<html lang="es">

<head>
    <title>Paco Juego</title>
    <meta name="description" content="¡Pero es divertido!">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../style.css" />
    <script type="text/javascript" src="../app.js"></script>
</head>

<body onload="loadCode(); deliverPackage();">
    <div class="main">
        Sí, supongo que tienes un punto. Compraré esto cuerda de saltar rosado y verde.<br>
    </div>

    <hr>
    <div id="choices" style="text-align: center; display: none;">
        <a class="choice" onclick="openUrl()" href="#">Navegar por la Red</a><br>
        <a class="choice" href="W5O6T.html">¡Salta la cuerda!</a><br>
    </div>

    <div class="navbar">
        <a href="../index.html">Nuevo Juego</a>
        <a href="../special-code/index.html">Código Especial</a>
        <a href="javascript:copyCode()" id="specialCode"></a>
    </div>

    <script>
        var delayMs = 1000;
        var tapCount = 0;

        async function deliverPackage() {
            var msgs = ['Ingresando información...',
                'Haga clic en comprar',
                'Paquete enviado...',
                '...en el centro de distribución local',
                '¡Es aquí!'];

            await new Promise(resolve => setTimeout(resolve, delayMs * 2));
            let main = document.getElementsByClassName("main")[0];
            for (let i = 0; i < msgs.length; i++) {
                await new Promise(resolve => setTimeout(resolve, delayMs * i));
                main.innerHTML += "<br>" + msgs[i].toString();
            }
            main.innerHTML += "<br><br>¿Y ahora qué?";

            document.getElementById('choices').style.display = 'block';
        }

        function sleep(milliseconds) {
            const date = Date.now();
            let currentDate = null;
            do {
                currentDate = Date.now();
            } while (currentDate - date < milliseconds);
        }

        var cycleColors = ["#7aa457",
            "#a46cb7",
            "#cb6a49"];

        document.addEventListener('pointerdown', (event) => {
            if (tapCount > cycleColors.length) {
                return;
            }
            if (tapCount == cycleColors.length) {
                document.getElementsByClassName("main")[0].innerHTML += "<br><br><b>¡Que pedo! ¡Me daré prisa!</b><br>";
                delayMs = 1;
                document.body.style.background = '';
            }
            document.body.style.background = cycleColors[tapCount];
            tapCount++;
        });
    </script>
</body>

</html>